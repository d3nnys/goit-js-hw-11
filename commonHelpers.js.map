{"version":3,"file":"commonHelpers.js","sources":["../src/img/octagon.svg","../src/js/pixabay-api.js"],"sourcesContent":["export default \"__VITE_ASSET__de411352__\"","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport Error from '../img/octagon.svg';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  btnStart: document.querySelector('.form-btn'),\n  gallery: document.querySelector('.list'),\n  KEYWORD: 'nature',\n  IMAGE_TYPE: 'photo',\n  SAFESEARCH: 'true',\n  ORIENTATION: 'horizontal',\n  API_KEY: '42458886-d6d62fa6987d6f72b0a5e97bb',\n  URL: 'https://pixabay.com/api/',\n};\n\nconst LINK = `${refs.URL}?key=${refs.API_KEY}&q=${refs.KEYWORD}&image_type=${refs.IMAGE_TYPE}&safesearch=${refs.SAFESEARCH}&orientation=${refs.ORIENTATION}`;\n\nfunction fetchImgs(query) {\n  const linkWithQuery = `${refs.URL}?key=${refs.API_KEY}&q=${query}&image_type=${refs.IMAGE_TYPE}&safesearch=${refs.SAFESEARCH}&orientation=${refs.ORIENTATION}`;\n\n  return fetch(linkWithQuery)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data && data.hits) {\n        return data;\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        theme: 'dark',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: '#ffffff',\n        backgroundColor: '#ef4040',\n        position: 'topRight',\n        iconUrl: Error,\n        progressBarColor: '#b51b1b',\n        timeout: 3000,\n      });\n    });\n}\n\nrefs.form.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n\n  const searchQuery = event.currentTarget.elements.query.value.trim();\n\n  fetchImgs(searchQuery)\n    .then(data => {\n      const imgs = data.hits.slice(0, 9);\n      refs.gallery.innerHTML = imgs\n        .map(\n          ({\n            webformatURL,\n            largeImageURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n          }) => {\n            return `\n          <li class=\"gallery-item\">\n            <div class=\"gallery-box item-card-wrapper\">\n              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"800\">\n              </a>\n                <div class=\"card-box\">\n                  <p class=\"card-box-text\"><b>Likes</b> ${likes}</p>\n                  <p class=\"card-box-text\"><b>Views</b> ${views}</p>\n                  <p class=\"card-box-text\"><b>Comments</b> ${comments}</p>\n                  <p class=\"card-box-text\"><b>Downloads</b> ${downloads}</p>\n                </div>\n            </div>\n          </li>`;\n          }\n        )\n        .join('');\n    })\n    .finally(() => {\n      refs.form.reset();\n    });\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["Error","refs","fetchImgs","query","linkWithQuery","response","data","error","iziToast","onSearch","event","searchQuery","imgs","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"6vBAAA,MAAeA,EAAA,6CCQTC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,SAAU,SAAS,cAAc,WAAW,EAC5C,QAAS,SAAS,cAAc,OAAO,EACvC,QAAS,SACT,WAAY,QACZ,WAAY,OACZ,YAAa,aACb,QAAS,qCACT,IAAK,0BACP,EAIA,SAASC,EAAUC,EAAO,CACxB,MAAMC,EAAgB,GAAGH,EAAK,GAAG,QAAQA,EAAK,OAAO,MAAME,CAAK,eAAeF,EAAK,UAAU,eAAeA,EAAK,UAAU,gBAAgBA,EAAK,WAAW,GAE5J,OAAO,MAAMG,CAAa,EACvB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAIL,EAAMK,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,GAAQA,EAAK,KACf,OAAOA,CAEf,CAAK,EACA,MAAMC,GAAS,CACdC,EAAS,MAAM,CACb,MAAO,OACP,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAASR,EACT,iBAAkB,UAClB,QAAS,GACjB,CAAO,CACP,CAAK,CACL,CAEAC,EAAK,KAAK,iBAAiB,SAAUQ,CAAQ,EAE7C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,MAAM,MAAM,OAE7DR,EAAUS,CAAW,EAClB,KAAKL,GAAQ,CACZ,MAAMM,EAAON,EAAK,KAAK,MAAM,EAAG,CAAC,EACjCL,EAAK,QAAQ,UAAYW,EACtB,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACZ,IACmB;AAAA;AAAA;AAAA,8CAG2BL,CAAa;AAAA,gDACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,0DAGhBC,CAAK;AAAA,0DACLC,CAAK;AAAA,6DACFC,CAAQ;AAAA,8DACPC,CAAS;AAAA;AAAA;AAAA,gBAK9D,EACA,KAAK,EAAE,CAChB,CAAK,EACA,QAAQ,IAAM,CACblB,EAAK,KAAK,OAChB,CAAK,CACL,CAEiB,IAAImB,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC"}